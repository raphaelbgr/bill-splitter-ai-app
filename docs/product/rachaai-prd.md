# RachaAI - Brazilian AI-First Bill Splitter
## Product Requirements Document (PRD)

*Generated by Sofia Martinez - AI-First Project Orchestrator*
*Created: December 2024*

---

## 1. Visão Geral do Projeto

### Nome do Projeto
**RachaAI** - Brazilian AI-First Bill Splitter

### Objetivo Principal
Transformar a divisão de despesas tradicional em uma experiência conversacional usando Claude AI, permitindo que usuários brasileiros descrevam despesas em português natural e recebam sugestões inteligentes de divisão de contas.

### Público-Alvo
- **Usuários Primários:** Brasileiros de 18-45 anos que dividem despesas com amigos, família e colegas
- **Cenários Principais:** Churrasco, happy hour, aniversários, viagens, vaquinhas
- **Dispositivos:** Mobile-first (95% uso via smartphone)
- **Regiões:** Todo Brasil, com foco em São Paulo, Rio de Janeiro, Nordeste e Sul

### Proposta de Valor
- **Conversação Natural:** Descreva despesas em português brasileiro natural
- **Inteligência Cultural:** Entende contextos brasileiros (rodízio, vaquinha, etc.)
- **Conformidade LGPD:** Privacidade e controle de dados desde o primeiro dia
- **Integração PIX:** Pagamentos brasileiros nativos
- **Experiência Mobile:** Otimizado para uso no smartphone

---

## 2. Capacidades de IA Requeridas

### Funcionalidades Principais
- [x] **Chatbot Conversacional**: Interação em português brasileiro com Claude AI
- [x] **Análise de Dados**: Processamento inteligente de despesas em português
- [x] **Recomendações**: Sistema de sugestões personalizadas de divisão
- [x] **Classificação**: Categorização automatizada de despesas brasileiras
- [x] **Contexto Cultural**: Reconhecimento de padrões sociais brasileiros
- [x] **Memória Conversacional**: Retenção de contexto com LGPD compliance
- [x] **Processamento Regional**: Variações dialetais brasileiras (SP, RJ, NE, Sul)

### Modelos de IA Necessários
- **Claude Sonnet**: Para tarefas complexas de raciocínio e divisão de despesas
- **Claude Haiku**: Para respostas rápidas e econômicas (consultas simples)
- **Claude Opus**: Para análise avançada de padrões e insights
- **Embedding Models**: Para busca semântica e RAG (Retrieval Augmented Generation)

**Distribuição de Uso:** 70% Haiku, 25% Sonnet, 5% Opus para otimização de custos

---

## 3. Requisitos do Mercado Brasileiro

### Conformidade LGPD
- [x] **Consentimento**: Coleta transparente de consentimento granular
- [x] **Finalidade**: Uso definido e limitado dos dados (apenas divisão de despesas)
- [x] **Adequação**: Compatibilidade com objetivos de divisão de contas
- [x] **Necessidade**: Mínimo necessário para operação
- [x] **Livre Acesso**: Portabilidade e acesso aos dados
- [x] **Qualidade**: Exatidão e atualização dos dados
- [x] **Transparência**: Clareza no processamento ("Claude interpretou como...")
- [x] **Segurança**: Proteção contra vazamentos
- [x] **Prevenção**: Medidas contra danos
- [x] **Não Discriminação**: Uso não abusivo dos dados
- [x] **Responsabilização**: Demonstração de conformidade

### Localização Cultural
- **Idioma**: Português brasileiro (formal/informal com variações regionais)
- **Fuso Horário**: UTC-3 (Brasília)
- **Moeda**: Real brasileiro (BRL)
- **Formato de Data**: DD/MM/AAAA
- **Comunicação**: Estilo brasileiro de comunicação (cara, mano, beleza)
- **Feriados**: Calendário nacional e regionais
- **Contextos Sociais**: Churrasco, happy hour, aniversário, viagem, vaquinha

### Hospedagem e Dados
- [x] **Residência de Dados**: Supabase em São Paulo (região brasileira)
- [x] **Backup Local**: Cópias em território nacional
- [x] **Latência**: < 200ms para usuários brasileiros
- [x] **Disponibilidade**: 99.9% uptime mínimo

---

## 4. Especificações Técnicas

### Arquitetura Recomendada
- **LLM Provider**: Claude (Anthropic) com roteamento inteligente
- **Database**: Supabase PostgreSQL + Vector Store para memória
- **Caching**: Redis para otimização de performance
- **Frontend**: Next.js 14 com TypeScript e Tailwind CSS
- **Deployment**: Vercel com edge functions
- **Monitoring**: Supabase Analytics + Custom monitoring
- **Mobile**: PWA + Native apps (iOS/Android)

### Estimativas de Volume
- **Usuários Simultâneos**: 200+ (pico em happy hours e finais de semana)
- **Interações/Dia**: 1,000+ conversas com Claude
- **Dados Armazenados**: 50GB+ (conversas, grupos, preferências)
- **Crescimento Mensal**: 20% (estimativa conservadora)

### Requisitos de Performance
- **Tempo de Resposta**: < 1s Haiku, < 2.5s Sonnet, < 5s Opus
- **Throughput**: 100+ requisições por segundo
- **Disponibilidade**: 99.9% uptime
- **Escalabilidade**: Auto-scaling baseado em demanda
- **Custo por Interação**: < R$ 0.80

---

## 5. Restrições Orçamentárias

### Orçamento Mensal Máximo
- **Total**: R$ 5,000 por mês
- **Claude API**: R$ 2,500 (50% do total)
- **Supabase**: R$ 1,000 (20% do total)
- **Redis**: R$ 500 (10% do total)
- **Hosting**: R$ 500 (10% do total)
- **Monitoramento**: R$ 500 (10% do total)

### Estratégia de Otimização
- [x] **Caching Agressivo**: Reduzir chamadas Claude em 60%
- [x] **Model Selection**: Haiku para tarefas simples (70% uso)
- [x] **Rate Limiting**: Controle de uso por usuário
- [x] **Batch Processing**: Processamento em lote quando possível
- [x] **Free Tier Usage**: Maximizar recursos gratuitos
- [x] **Retenção de Dados**: 90 dias máximo (LGPD compliance)

---

## 6. Conformidade e Segurança

### Requisitos LGPD Específicos
- [x] **DPO**: Designação de Encarregado de Proteção de Dados
- [x] **RIPD**: Relatório de Impacto à Proteção de Dados
- [x] **Política de Privacidade**: Documento atualizado em português
- [x] **Termos de Uso**: Conformidade legal brasileira
- [x] **Consentimento Granular**: Opt-in específico por funcionalidade
- [x] **Direito ao Esquecimento**: Exclusão completa de dados
- [x] **Portabilidade**: Exportação de dados em formato padrão
- [x] **Auditoria**: Logs de acesso e uso detalhados

### Segurança Técnica
- [x] **Autenticação**: Multi-fator obrigatório
- [x] **Autorização**: Controle granular de acesso
- [x] **Criptografia**: Em trânsito (TLS) e repouso (AES-256)
- [x] **API Security**: Rate limiting e validação rigorosa
- [x] **Monitoring**: Detecção de anomalias em tempo real
- [x] **Backup**: Estratégia de recuperação com dados no Brasil

---

## 7. Critérios de Sucesso

### Métricas Técnicas
- **Precisão IA**: 90%+ de respostas corretas em português
- **Tempo Resposta**: < 2.5 segundos médio
- **Disponibilidade**: > 99.9%
- **Satisfação Usuário**: > 4.5/5.0
- **Conformidade LGPD**: 100%

### Métricas de Negócio
- **Adoção**: 1,000+ usuários ativos no primeiro mês
- **Engajamento**: 3+ sessões por usuário por semana
- **Retenção**: 60%+ usuários retornando após 30 dias
- **ROI**: Break-even em 6 meses
- **Cost per Interaction**: < R$ 0.80

### Timeline de Entrega
- **MVP**: Março 2025 - Funcionalidades básicas (Epics 1-3)
- **Beta**: Abril 2025 - Teste com 100 usuários brasileiros
- **Production**: Maio 2025 - Lançamento completo
- **Scale**: Junho 2025 - Otimização e expansão

---

## 8. Estrutura da Equipe BMAD

### Agentes Especializados
- **Sofia Martinez** (Orchestrator): Coordenação e metodologia BMAD
- **Carlos Mendoza** (Architect): Arquitetura Claude + Supabase + Redis
- **Patricia Lima** (Knowledge Engineer): Sistemas de memória e RAG
- **Bruno Costa** (UX Specialist): Interfaces conversacionais brasileiras
- **Isabella Santos** (Developer): Implementação e deployment

### Metodologia BMAD
- **Story-by-Story**: Completion cycles (não sprints)
- **Quality Gates**: Validação entre histórias
- **Agent Handoffs**: Transferência especializada
- **Brazilian Focus**: Mercado e compliance local
- **24 Stories**: Todas criadas e prontas para implementação

---

## 9. Epics e Stories

### Epic 1: Foundation & Core Infrastructure (3 stories)
- Story 1: Basic Claude Integration
- Story 2: Supabase Foundation Setup
- Story 3: Basic Conversation Flow

### Epic 2: Core Conversational Experience (3 stories)
- Story 4: Complex Expense Parsing Engine
- Story 5: Group Management & Social Dynamics
- Story 6: Memory System & Context Retention

### Epic 3: Brazilian Market Adaptation (3 stories)
- Story 7: Portuguese Optimization & Cultural Contexts
- Story 8: Brazilian Payment Preferences & PIX Integration
- Story 9: LGPD Compliance Implementation

### Epic 4: Production Readiness & Performance (3 stories)
- Story 10: Performance Optimization & Caching
- Story 11: Error Handling & Edge Cases
- Story 12: Analytics & User Feedback Systems

### Epic 5: Advanced Features & Monetization (3 stories)
- Story 13: Advanced Analytics & Insights
- Story 14: Premium Features & Monetization
- Story 15: B2B Features & Partnerships

### Epic 6: Mobile App & Platform Expansion (3 stories)
- Story 16: Mobile App Development
- Story 17: Progressive Web App & Offline Support
- Story 18: Brazilian Mobile Payment Integration

### Epic 7: AI Enhancement & Advanced Features (3 stories)
- Story 19: Advanced Portuguese NLP & Regional Dialects
- Story 20: Intelligent Automation & Smart Suggestions
- Story 21: Advanced Analytics & AI Insights

### Epic 8: International Expansion & Scaling (3 stories)
- Story 22: Multi-Language Support & Internationalization
- Story 23: International Compliance & Legal Framework
- Story 24: Advanced International Compliance

---

## 10. Documentação Relacionada

### Arquitetura
- `docs/architecture/ai-bill-splitter-architecture.md` - Arquitetura técnica detalhada
- `docs/infrastructure-architecture.md` - Infraestrutura e deployment

### Desenvolvimento
- `docs/development/macos-development.md` - Guia de desenvolvimento
- `docs/stories/` - Todas as 24 stories detalhadas

### Produto
- `docs/product/rachaai-epics.md` - Breakdown completo dos epics

### UX/UI
- `docs/ux/` - Wireframes e protótipos conversacionais

---

## 11. Próximos Passos

1. **Validar PRD** com stakeholders e especialistas LGPD
2. **Iniciar Epic 1** com Story 1 (Basic Claude Integration)
3. **Executar metodologia BMAD** story-by-story
4. **Implementar LGPD compliance** desde o primeiro dia
5. **Otimizar custos Claude** conforme estratégia definida

---

*Este PRD garante que RachaAI seja desenvolvido com foco no mercado brasileiro, conformidade LGPD e metodologia BMAD story-by-story.* 