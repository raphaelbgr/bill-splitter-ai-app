# RachaAI - Interactive Prototypes
## Key Flow Specifications & Interactions

*Generated by Sally - UX Expert & Conversational Design Specialist*
*Created: December 2024*

---

## Prototype Overview

This document contains detailed interactive prototypes for RachaAI's key user flows, designed to validate the conversational experience, Brazilian cultural adaptation, and mobile-first interactions before development.

---

## 1. Core Conversational Flow Prototype

### 1.1 Initial Onboarding Flow

**Flow Sequence:**
```
Welcome Screen → LGPD Consent → Profile Setup → First Conversation
```

**Interactive Elements:**
- **Welcome Screen:**
  - Tap "Começar" → Animates to consent screen
  - Swipe left/right to see feature previews
  - Tap "Saiba Mais" → Opens detailed feature modal

- **LGPD Consent Screen:**
  - Tap checkboxes for granular consent
  - Tap "Ler Mais" → Expands detailed privacy info
  - Tap "Aceitar" → Animates to profile setup
  - Tap "Recusar" → Shows limited functionality message

- **Profile Setup:**
  - Type name → Auto-suggests common Brazilian names
  - Select region → Shows regional Portuguese variations
  - Set payment preferences → PIX, transfer, cash options
  - Tap "Continuar" → Animates to first conversation

**Animation Specifications:**
- **Transition:** Slide up with fade (0.3s ease-out)
- **Loading:** Pulse animation for Claude connection
- **Success:** Green checkmark with scale animation
- **Error:** Red shake animation with retry button

### 1.2 Main Conversation Flow

**Flow Sequence:**
```
User Input → Claude Processing → Expense Recognition → Confirmation → Payment
```

**Interactive Elements:**
- **Input Methods:**
  - **Text Input:** Tap to focus, type Portuguese naturally
  - **Voice Input:** Long press microphone, speak in Portuguese
  - **Camera:** Tap camera icon, scan receipt
  - **Emoji:** Tap emoji button, select relevant emoji

- **Claude Processing States:**
  - **Haiku (Fast):** "Processando..." with spinning indicator
  - **Sonnet (Medium):** "Analisando contexto..." with progress bar
  - **Opus (Thorough):** "Analisando contexto brasileiro..." with detailed progress

- **Expense Recognition:**
  - **Auto-detect:** Highlights recognized values and participants
  - **Confidence indicator:** Shows percentage (85%, 95%, etc.)
  - **Edit option:** Tap any field to modify
  - **Cultural context:** Shows Brazilian pattern recognition

**Animation Specifications:**
- **Typing indicator:** Three dots animation
- **Processing:** Gradient loading bar
- **Recognition:** Green highlight with scale effect
- **Confirmation:** Checkmark with bounce animation

### 1.3 Expense Confirmation Flow

**Flow Sequence:**
```
Expense Summary → Review Details → Confirm/Edit → Payment Options
```

**Interactive Elements:**
- **Expense Summary Card:**
  - Tap to expand full details
  - Swipe left to edit, right to confirm
  - Long press for quick actions menu

- **Review Details:**
  - Tap any field to edit inline
  - Drag participants to reorder
  - Tap "+" to add more participants
  - Tap "×" to remove participants

- **Confirmation Actions:**
  - **Confirm:** Green button with checkmark animation
  - **Edit:** Opens edit modal with smooth transition
  - **Cancel:** Red button with confirmation dialog

**Animation Specifications:**
- **Card expansion:** Smooth height animation
- **Field editing:** Focus animation with border highlight
- **Confirmation:** Success animation with confetti effect
- **Error:** Shake animation with error message

---

## 2. Brazilian Cultural Adaptation Prototype

### 2.1 Cultural Pattern Recognition Flow

**Flow Sequence:**
```
User Input → Pattern Detection → Cultural Context → Smart Suggestion → User Choice
```

**Interactive Elements:**
- **Pattern Detection:**
  - **Rodízio:** Auto-detects "rodízio" → Suggests equal split
  - **Happy Hour:** Detects "happy hour" → Suggests consumption-based split
  - **Aniversário:** Detects "aniversário" → Suggests birthday person doesn't pay
  - **Churrasco:** Detects "churrasco" → Suggests item-based split

- **Cultural Context Display:**
  - Tap cultural icon → Shows explanation
  - Swipe through different cultural patterns
  - Tap "Personalizar" → Opens custom split options

- **Smart Suggestions:**
  - **Accept:** One-tap confirmation
  - **Customize:** Opens detailed split calculator
  - **Explain:** Shows reasoning behind suggestion

**Animation Specifications:**
- **Pattern detection:** Glow animation around recognized terms
- **Cultural icons:** Bounce animation on recognition
- **Suggestions:** Slide up from bottom with fade
- **Acceptance:** Green checkmark with scale and glow

### 2.2 Regional Language Adaptation Flow

**Flow Sequence:**
```
Voice Input → Regional Detection → Dialect Adaptation → Response Generation
```

**Interactive Elements:**
- **Voice Input:**
  - **São Paulo:** Recognizes "rolou", "deu ruim", "tranquilo"
  - **Rio de Janeiro:** Recognizes "beleza", "valeu", "firmeza"
  - **Nordeste:** Recognizes "oxe", "cabra", "massa"
  - **Sul:** Recognizes "bah", "tchê", "guri"

- **Regional Detection:**
  - Shows detected region with flag icon
  - Tap region → Opens region selection
  - Swipe through different regional expressions
  - Tap expression → Shows meaning and usage

- **Dialect Adaptation:**
  - Claude responds in regional dialect
  - Shows "Claude está usando sotaque [região]"
  - Tap to change dialect preference
  - Long press for dialect explanation

**Animation Specifications:**
- **Voice input:** Waveform animation during recording
- **Regional detection:** Flag animation with region name
- **Dialect change:** Smooth transition with accent indicator
- **Expression recognition:** Highlight with tooltip

---

## 3. LGPD Compliance Prototype

### 3.1 Consent Management Flow

**Flow Sequence:**
```
Privacy Notice → Granular Consent → Data Usage → User Control → Confirmation
```

**Interactive Elements:**
- **Privacy Notice:**
  - Scroll through detailed privacy information
  - Tap sections to expand details
  - Swipe through data usage examples
  - Tap "Ler Mais" → Opens full privacy policy

- **Granular Consent:**
  - **Conversations:** Toggle on/off with 90-day retention
  - **Preferences:** Toggle on/off with user control
  - **Groups:** Toggle on/off with member consent
  - **Payments:** Always off (never stored)

- **Data Usage Display:**
  - Interactive diagram showing data flow
  - Tap elements to see detailed explanations
  - Swipe through different data scenarios
  - Tap "Como Usamos" → Shows specific usage examples

- **User Control:**
  - **Export Data:** Tap to download all user data
  - **Delete Data:** Tap with confirmation dialog
  - **Modify Consent:** Tap to change preferences
  - **Contact DPO:** Tap to contact data protection officer

**Animation Specifications:**
- **Consent toggles:** Smooth slide animation
- **Data flow diagram:** Animated arrows and connections
- **Export process:** Progress bar with download animation
- **Deletion:** Fade out animation with confirmation

### 3.2 AI Transparency Flow

**Flow Sequence:**
```
AI Processing → Interpretation Display → Confidence Level → User Review → Confirmation
```

**Interactive Elements:**
- **AI Processing Display:**
  - Shows "Claude está analisando..."
  - Real-time processing indicators
  - Model selection explanation
  - Cost and performance metrics

- **Interpretation Display:**
  - **"Claude interpretou como:"** with highlighted text
  - Tap highlighted terms → Shows detailed analysis
  - Swipe through different interpretations
  - Tap "Explicar" → Shows reasoning process

- **Confidence Level:**
  - **95%:** Green indicator with high confidence
  - **85%:** Yellow indicator with medium confidence
  - **75%:** Orange indicator with low confidence
  - Tap confidence → Shows factors affecting confidence

- **User Review:**
  - **Confirm:** Accept AI interpretation
  - **Correct:** Edit interpretation manually
  - **Explain:** Get detailed reasoning
  - **Retry:** Process with different model

**Animation Specifications:**
- **Processing:** Typing animation with model indicator
- **Interpretation:** Highlight animation with explanation
- **Confidence:** Color-coded progress ring
- **Review options:** Slide up animation with fade

---

## 4. Payment Integration Prototype

### 4.1 PIX Payment Flow

**Flow Sequence:**
```
Payment Calculation → PIX Generation → QR Code Display → Sharing Options → Payment Tracking
```

**Interactive Elements:**
- **Payment Calculation:**
  - Shows amount owed by each person
  - Tap amount → Shows breakdown
  - Swipe through different payment methods
  - Tap "Calcular" → Generates payment details

- **PIX Generation:**
  - **PIX Key:** Tap to copy to clipboard
  - **QR Code:** Tap to enlarge, long press to save
  - **Amount:** Auto-filled with calculated amount
  - **Description:** Auto-filled with expense description

- **QR Code Display:**
  - **Tap to enlarge:** Full-screen QR code
  - **Long press:** Save QR code to gallery
  - **Swipe:** Switch between different PIX keys
  - **Share:** Opens sharing options

- **Sharing Options:**
  - **WhatsApp:** Direct share to WhatsApp
  - **Email:** Opens email with PIX details
  - **Copy:** Copies PIX key to clipboard
  - **SMS:** Sends PIX details via SMS

- **Payment Tracking:**
  - **Pending:** Shows payment status
  - **Received:** Green checkmark with confirmation
  - **Failed:** Red X with retry option
  - **Reminder:** Tap to send payment reminder

**Animation Specifications:**
- **PIX generation:** Loading animation with success checkmark
- **QR code:** Scale animation on tap
- **Sharing:** Slide animation with platform icons
- **Payment status:** Color transition with status icon

### 4.2 Payment Preferences Flow

**Flow Sequence:**
```
Preference Selection → PIX Setup → Bank Transfer Setup → Cash Options → Confirmation
```

**Interactive Elements:**
- **Preference Selection:**
  - **PIX (Recommended):** Tap to set as default
  - **Bank Transfer:** Tap to configure bank details
  - **Cash:** Tap to set cash preferences
  - **"Depois acerto":** Tap to set reminder preferences

- **PIX Setup:**
  - **PIX Key Type:** Email, phone, CPF, random key
  - **PIX Key Value:** Input field with validation
  - **Test PIX:** Tap to send test PIX
  - **Save:** Tap to save PIX preferences

- **Bank Transfer Setup:**
  - **Bank Selection:** Dropdown with Brazilian banks
  - **Account Type:** Checking, savings, digital
  - **Account Number:** Input with validation
  - **Branch Code:** Input with validation

- **Cash Options:**
  - **"Depois acerto":** Toggle with reminder settings
  - **"Vou pagar tudo":** Toggle with split preferences
  - **Reminder Frequency:** Daily, weekly, monthly
  - **Reminder Method:** Push, email, WhatsApp

**Animation Specifications:**
- **Preference selection:** Radio button animation
- **PIX setup:** Form validation with checkmarks
- **Bank setup:** Dropdown animation with bank logos
- **Cash options:** Toggle animation with reminder setup

---

## 5. Error Handling Prototype

### 5.1 Claude API Error Flow

**Flow Sequence:**
```
Error Detection → Fallback Options → Manual Input → Retry → Success
```

**Interactive Elements:**
- **Error Detection:**
  - Shows error message with retry button
  - Displays error type and suggested action
  - Shows estimated resolution time
  - Tap "Detalhes" → Shows technical error information

- **Fallback Options:**
  - **Manual Input:** Tap to open manual expense form
  - **Retry:** Tap to retry with same model
  - **Different Model:** Tap to try with different Claude model
  - **Offline Mode:** Tap to use offline calculations

- **Manual Input Form:**
  - **Amount:** Currency input with validation
  - **Participants:** Add/remove participants
  - **Location:** Text input with suggestions
  - **Date:** Date picker with today as default

- **Retry Process:**
  - Shows retry attempt number
  - Displays different model being used
  - Shows estimated processing time
  - Tap "Cancelar" → Returns to fallback options

**Animation Specifications:**
- **Error display:** Shake animation with error icon
- **Fallback options:** Slide up animation
- **Manual form:** Smooth form transition
- **Retry process:** Loading animation with attempt counter

### 5.2 Network Error Flow

**Flow Sequence:**
```
Network Detection → Offline Mode → Data Sync → Reconnection → Sync Complete
```

**Interactive Elements:**
- **Network Detection:**
  - Shows network status indicator
  - Displays connection type (WiFi, 4G, 5G)
  - Shows signal strength
  - Tap status → Shows detailed network information

- **Offline Mode:**
  - **Local Storage:** Shows saved expenses
  - **Offline Calculations:** Basic math without AI
  - **Sync Queue:** Shows pending sync items
  - **Manual Mode:** Full manual expense entry

- **Data Sync:**
  - **Pending Items:** Shows items waiting to sync
  - **Sync Progress:** Progress bar with item count
  - **Sync Status:** Success, partial, failed
  - **Retry Sync:** Tap to retry failed items

- **Reconnection:**
  - **Auto-reconnect:** Automatic when network available
  - **Manual reconnect:** Tap to force reconnection
  - **Connection test:** Tap to test connection
  - **Network selection:** Tap to change network

**Animation Specifications:**
- **Network status:** Pulse animation for connection
- **Offline mode:** Fade transition with offline indicator
- **Sync progress:** Progress bar with item animations
- **Reconnection:** Success animation with sync completion

---

## 6. Performance & Cost Optimization Prototype

### 6.1 Model Selection Flow

**Flow Sequence:**
```
Performance Detection → Model Selection → Cost Calculation → User Choice → Optimization
```

**Interactive Elements:**
- **Performance Detection:**
  - **Network Speed:** Shows current network performance
  - **Device Performance:** Shows device capabilities
  - **User Preference:** Shows user's speed/accuracy preference
  - **Cost Budget:** Shows remaining monthly budget

- **Model Selection:**
  - **Haiku (Fast):** Tap for quick, basic responses
  - **Sonnet (Balanced):** Tap for balanced speed/accuracy
  - **Opus (Thorough):** Tap for detailed, accurate responses
  - **Auto:** Tap for automatic model selection

- **Cost Calculation:**
  - **Per Interaction:** Shows cost for each model
  - **Monthly Estimate:** Shows estimated monthly cost
  - **Budget Remaining:** Shows remaining budget
  - **Savings:** Shows potential savings with optimization

- **User Choice:**
  - **Speed Priority:** Tap for fastest responses
  - **Accuracy Priority:** Tap for most accurate responses
  - **Cost Priority:** Tap for lowest cost
  - **Balanced:** Tap for balanced approach

**Animation Specifications:**
- **Model selection:** Highlight animation with cost display
- **Cost calculation:** Real-time cost updates
- **User choice:** Smooth transition with preference saving
- **Optimization:** Success animation with savings display

### 6.2 Cost Tracking Flow

**Flow Sequence:**
```
Usage Tracking → Cost Analysis → Optimization Suggestions → Budget Management → Reports
```

**Interactive Elements:**
- **Usage Tracking:**
  - **Daily Usage:** Bar chart with daily interactions
  - **Model Usage:** Pie chart showing model distribution
  - **Cost Trend:** Line chart showing cost over time
  - **Efficiency Score:** Percentage showing optimization level

- **Cost Analysis:**
  - **Total Cost:** Monthly total with breakdown
  - **Per Model:** Cost breakdown by Claude model
  - **Per Feature:** Cost breakdown by feature usage
  - **Savings:** Money saved through optimization

- **Optimization Suggestions:**
  - **Model Switching:** Suggests using cheaper models
  - **Feature Usage:** Suggests optimizing feature usage
  - **Batch Processing:** Suggests grouping similar requests
  - **Caching:** Suggests enabling response caching

- **Budget Management:**
  - **Monthly Budget:** Set monthly spending limit
  - **Alerts:** Configure spending alerts
  - **Auto-optimization:** Enable automatic cost optimization
  - **Manual Control:** Disable auto-optimization

**Animation Specifications:**
- **Usage charts:** Animated bar/pie/line charts
- **Cost analysis:** Slide animation with cost breakdown
- **Optimization suggestions:** Pulse animation for new suggestions
- **Budget management:** Smooth form transitions

---

## 7. Mobile-Specific Interaction Prototypes

### 7.1 Voice Input Flow

**Flow Sequence:**
```
Voice Activation → Recording → Processing → Recognition → Confirmation
```

**Interactive Elements:**
- **Voice Activation:**
  - **Long Press:** Hold microphone for 1 second
  - **Tap:** Quick tap for voice input
  - **Swipe:** Swipe up from microphone for voice
  - **Shake:** Shake device for voice activation

- **Recording Interface:**
  - **Waveform:** Real-time audio waveform display
  - **Timer:** Recording duration counter
  - **Cancel:** Tap to cancel recording
  - **Pause:** Tap to pause/resume recording

- **Processing:**
  - **"Processando áudio..."** with spinning indicator
  - **"Convertendo para texto..."** with progress bar
  - **"Analisando contexto..."** with Claude processing
  - **"Reconhecendo despesa..."** with expense detection

- **Recognition:**
  - **Text Display:** Shows recognized Portuguese text
  - **Confidence:** Shows recognition confidence level
  - **Edit:** Tap to edit recognized text
  - **Confirm:** Tap to confirm recognition

**Animation Specifications:**
- **Voice activation:** Pulse animation on microphone
- **Recording:** Real-time waveform animation
- **Processing:** Multi-stage loading animation
- **Recognition:** Text highlight animation

### 7.2 Camera Receipt Flow

**Flow Sequence:**
```
Camera Activation → Receipt Capture → OCR Processing → Data Extraction → Confirmation
```

**Interactive Elements:**
- **Camera Activation:**
  - **Tap Camera:** Opens camera interface
  - **Swipe:** Swipe from camera icon
  - **Long Press:** Long press for camera options
  - **Shake:** Shake device for camera activation

- **Receipt Capture:**
  - **Auto-focus:** Automatic receipt detection
  - **Manual focus:** Tap to focus on specific area
  - **Flash:** Tap to toggle flash
  - **Grid:** Tap to show/hide grid lines

- **OCR Processing:**
  - **"Analisando imagem..."** with image processing
  - **"Extraindo texto..."** with OCR progress
  - **"Reconhecendo valores..."** with number detection
  - **"Identificando local..."** with location detection

- **Data Extraction:**
  - **Amount:** Highlighted total amount
  - **Date:** Extracted date with validation
  - **Location:** Extracted business name
  - **Items:** List of individual items (if available)

**Animation Specifications:**
- **Camera activation:** Zoom animation from icon
- **Receipt detection:** Green border animation
- **OCR processing:** Scanning line animation
- **Data extraction:** Highlight animation for each field

---

## 8. Accessibility Prototype

### 8.1 Screen Reader Flow

**Flow Sequence:**
```
Screen Reader Detection → Accessibility Mode → Voice Navigation → Audio Feedback → Confirmation
```

**Interactive Elements:**
- **Screen Reader Detection:**
  - **Auto-detect:** Detects screen reader usage
  - **Manual enable:** Tap accessibility settings
  - **Voice commands:** Responds to voice commands
  - **Gesture support:** Supports accessibility gestures

- **Accessibility Mode:**
  - **High contrast:** Toggle high contrast mode
  - **Large text:** Toggle large text mode
  - **Voice navigation:** Enable voice navigation
  - **Audio descriptions:** Enable audio descriptions

- **Voice Navigation:**
  - **"Navegar para conversa"** → Moves to conversation
  - **"Adicionar despesa"** → Opens expense input
  - **"Confirmar divisão"** → Confirms expense split
  - **"Compartilhar PIX"** → Opens PIX sharing

- **Audio Feedback:**
  - **Button press:** Audio confirmation
  - **Error:** Audio error message
  - **Success:** Audio success message
  - **Loading:** Audio loading indicator

**Animation Specifications:**
- **Accessibility mode:** Smooth transition with audio cue
- **Voice navigation:** Highlight animation for selected element
- **Audio feedback:** Visual indicator with audio
- **Gesture support:** Visual feedback for gestures

---

## Prototype Implementation Guidelines

### **Technology Stack:**
- **Prototyping Tool:** Figma, Adobe XD, or InVision
- **Animation:** CSS animations or Lottie files
- **Interactions:** JavaScript for complex interactions
- **Testing:** UserTesting or similar for validation

### **Testing Scenarios:**
1. **Brazilian User Testing:** Test with users from different Brazilian regions
2. **Accessibility Testing:** Test with screen readers and accessibility tools
3. **Performance Testing:** Test on different devices and network conditions
4. **Cultural Testing:** Test with different Brazilian cultural contexts

### **Success Metrics:**
- **Task Completion:** 95%+ success rate for core flows
- **Time to Complete:** <30 seconds for expense splitting
- **Error Rate:** <5% for AI recognition
- **User Satisfaction:** >4.5/5 rating for ease of use

### **Iteration Process:**
1. **Create prototypes** based on wireframes
2. **Test with Brazilian users** for cultural validation
3. **Refine interactions** based on feedback
4. **Validate accessibility** with assistive technologies
5. **Optimize performance** for Brazilian networks

The interactive prototypes prioritize **natural Brazilian interactions**, **Claude AI integration**, **LGPD compliance**, and **mobile-first design** to create a seamless conversational experience for Brazilian users. 